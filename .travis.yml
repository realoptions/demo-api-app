language: node_js
node_js:
- '9'
install:
- npm install
- npm test -- --coverage
after_success:
- bash <(curl -s https://codecov.io/bash)

deploy:
  - provider: pages
    skip_cleanup: true
    github_token: $GITHUB_TOKEN
    local_dir: build
    on:
      repo: realoptions/demo-api-app
branch: master