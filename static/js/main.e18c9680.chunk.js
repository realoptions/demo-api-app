(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t,n){e.exports=n(520)},256:function(e,t,n){},520:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(34),l=n.n(i),o=(n(256),n(221)),s=n.n(o),c=n(98),u=n.n(c),m=n(138),p=n.n(m),d=n(222),f=n.n(d),h=n(224),v=n.n(h),b=n(223),E=n.n(b),y=n(21),O=n(0),g=n.n(O),R=n(521),j=n(29),T=function(e){return e?"secondary":"default"},w=function(e){return e&&1},S=function(e){switch("/"+e){case"/inputs":return 0;case"/density":return 1;case"/options":return 2;default:return 0}},k=Object(y.withStyles)({root:{bottom:"0%",position:"fixed",width:"100%"}})(function(e){var t=e.classes,n=e.match.params.selected,a=e.densityRefresh,i=e.optionRefresh,l=e.resetDensityRefresh,o=e.resetOptionsRefresh;return r.a.createElement(s.a,{value:S(n),showLabels:!0,className:t.root},r.a.createElement(u.a,{component:R.a,to:"/inputs",label:"Entry",icon:r.a.createElement(f.a,null)}),r.a.createElement(u.a,{component:R.a,to:"/density",label:"Density",onClick:l,icon:r.a.createElement(p.a,{color:T(a),badgeContent:w(a)},r.a.createElement(E.a,null))}),r.a.createElement(u.a,{component:R.a,to:"/options",label:"Options",onClick:o,icon:r.a.createElement(p.a,{color:T(i),badgeContent:w(i)},r.a.createElement(v.a,null))}))});k.propTypes={match:g.a.shape({params:g.a.shape({selected:g.a.string}).isRequired}).isRequired,densityRefresh:g.a.bool.isRequired,optionRefresh:g.a.bool.isRequired,resetDensityRefresh:g.a.func.isRequired,resetOptionsRefresh:g.a.func.isRequired};var C=function(e,t){return function(){return e({type:"RESET_REFRESH",value:t})}},_=Object(j.b)(function(e){var t=e.needRefresh;return{densityRefresh:t.density,optionRefresh:t.options}},function(e){return{resetDensityRefresh:C(e,"density"),resetOptionsRefresh:C(e,"options")}})(k),M=n(47),q=n(30),N=n(95),P=n.n(N),A=n(230),F=n.n(A),x=n(233),D=n.n(x),I=n(234),L=n.n(I),U=n(232),V=n.n(U),H=n(231),B=n.n(H),G=n(137),K=n.n(G),W=n(227),Y=n.n(W),J=n(229),$=n.n(J),z=n(228),Q=n.n(z),X=n(226),Z=n.n(X),ee=n(225),te=n.n(ee),ne=n(73),ae=n.n(ne),re=n(94),ie=n.n(re),le=function(e,t){return function(n){n.preventDefault(),t(e)}},oe=Object(y.withStyles)(function(e){return{textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit,width:"100%"}}})(function(e){var t,n=e.onSubmit,i=e.defaultValue,l=e.classes,o=Object(a.useState)(i||""),s=Object(q.a)(o,2),c=s[0],u=s[1];return r.a.createElement("form",{onSubmit:le(c,n),noValidate:!0,autoComplete:"off"},r.a.createElement(ae.a,{value:c,onChange:(t=u,function(e){return t(e.target.value)}),autoFocus:!0,className:l.textField}),r.a.createElement(ie.a,{type:"submit",variant:"contained",color:"secondary",className:l.textField},"Submit"))}),se=Object(j.b)(function(e){return{mdlfn:e.mdlfn}},function(e){return{onSubmit:function(t){return e({type:"UPDATE_API",value:t})}}})(function(e){var t=e.mdlfn,n=e.onSubmit,i=Object(a.useState)(!1),l=Object(q.a)(i,2),o=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{"aria-label":"Lock","aria-owns":"long-menu",onClick:function(){return s(!0)},color:"inherit"},t?r.a.createElement(te.a,null):r.a.createElement(Z.a,null)),r.a.createElement(Y.a,{open:o,onClose:function(){return s(!o)},"aria-labelledby":"form-dialog-title"},r.a.createElement(Q.a,{id:"form-dialog-title"},"Enter API Key"),r.a.createElement($.a,null,r.a.createElement(oe,{onSubmit:function(e){s(!1),n(e)}}))))}),ce=n(142),ue=function(e,t){return e?Promise.resolve(e):t()},me=function(e){var t=e.dispatch,n=e.selectedModel,a=e.realOptions,r=e.existingModelValue,i=e.existingMarketValue;if(t({type:"SELECT_MODEL",value:n}),a)return Promise.all([ue(r,a[n].constraints).then(function(e){return t({type:"UPDATE_CONSTRAINTS",value:e}),e}),ue(i,a.market.constraints).then(function(e){return t({type:"UPDATE_MARKET_CONSTRAINTS",value:e}),e})])},pe=function(e){var t=e.dispatch,n=e.selectedModel,a=e.parameters,r=e.realOptions;if(r)return r[n].density(a).then(function(e){t({type:"UPDATE_DENSITY",value:e})})},de=function(e){var t=e.dispatch,n=e.selectedModel,a=e.parameters,r=e.realOptions;if(r)return r[n].riskmetric(a).then(function(e){t({type:"UPDATE_RISK_METRIC",value:e})})},fe=function(e){var t=e.dispatch,n=e.selectedModel,a=e.parameters,r=e.sensitivityType,i=e.realOptions;if(i)return Promise.all([i[n].options(a,"call",r,!0),i[n].options(a,"put",r)]).then(function(e){var n=Object(q.a)(e,2),a=n[0],r=n[1],i=a.reduce(function(e,t){var n=t.at_point,a=t.value,r=t.iv;return{call:[].concat(Object(ce.a)(e.call),[{at_point:n,value:a}]),iv:[].concat(Object(ce.a)(e.iv),[{at_point:n,iv:r}])}},{call:[],iv:[]}),l=i.call,o=i.iv;t({type:"UPDATE_OPTIONS",value:{call:l,put:r,iv:o}})})},he=Object(y.withStyles)({grow:{flexGrow:1}})(function(e){var t=e.options,n=e.onSelect,i=e.selected,l=e.mdlfn,o=e.classes,s=e.marketConstraints,c=Object(a.useState)(null),u=Object(q.a)(c,2),m=u[0],p=u[1],d=function(e){p(null),n(i,function(e,t){return e.find(function(e){return e.label===t}).name}(t,e.target.innerText),l,s)};return r.a.createElement(F.a,{position:"fixed"},r.a.createElement(B.a,null,r.a.createElement(K.a,{variant:"h6",color:"inherit",noWrap:!0},"Options: ",function(e,t){return e.find(function(e){return e.name===t}).label}(t,i)),r.a.createElement("div",{className:o.grow}),r.a.createElement(se,null),r.a.createElement(P.a,{"aria-label":"More","aria-owns":m?"long-menu":void 0,"aria-haspopup":"true",onClick:function(e){return p(e.currentTarget)},color:"inherit"},r.a.createElement(V.a,null)),r.a.createElement(D.a,{id:"long-menu",anchorEl:m,open:null!==m,onClose:function(){return p(null)}},t.map(function(e){var t=e.label,n=e.name;return r.a.createElement(L.a,{key:n,onClick:d},t)}))))}),ve=Object(j.b)(function(e){var t=e.models,n=e.mdlfn,a=e.constraints.marketConstraints;return Object(M.a)({},t,{mdlfn:n,marketConstraints:a})},function(e){return{onSelect:function(t,n,a,r){return t!==n&&me({dispatch:e,selectedModel:n,realOptions:a,existingMarketValue:r})}}})(he),be=n(31),Ee=[{name:"heston",label:"Heston"},{name:"cgmy",label:"CGMY"},{name:"merton",label:"Merton"}],ye=Object(be.b)({options:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee},selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"heston",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_MODEL":return t.value;default:return e}}}),Oe=n(235),ge=n.n(Oe),Re=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case e:return n.value;default:return t}}},je=Re("UPDATE_CONSTRAINTS"),Te=Re("UPDATE_MARKET_CONSTRAINTS"),we=Object(be.b)({modelConstraints:je,marketConstraints:Te}),Se=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case t:return a.value;default:return n}}},ke=Se({expected_shortfall:0,value_at_risk:0},"UPDATE_RISK_METRIC"),Ce=Se({put:[],call:[],iv:[]},"UPDATE_OPTIONS"),_e=Se([],"UPDATE_DENSITY"),Me=Object(be.b)({riskMetric:ke,option:Ce,density:_e}),qe=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ALL_REFRESH":return!0;case"RESET_REFRESH":return n.value!==e&&t;default:return t}}},Ne=qe("density"),Pe=qe("options"),Ae=Object(be.b)({density:Ne,options:Pe}),Fe=Object(be.b)({models:ye,mdlfn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_API":return ge()({api_key:t.value,version:"v1",url:void 0});default:return e}},constraints:we,needRefresh:Ae,chartData:Me}),xe=n(237),De=n.n(xe),Ie=n(236),Le={typography:{useNextVariants:!0},palette:{primary:n.n(Ie).a,secondary:De.a}},Ue=Object(y.withStyles)(function(e){return{page:{marginTop:e.mixins.toolbar.minHeight,marginBottom:e.mixins.toolbar.minHeight,backgroundColor:e.palette.common.white},api:{paddingTop:60}}})(function(e){var t=e.mdlfn,n=e.children,a=e.classes;return r.a.createElement("div",{className:a.page},t?n:r.a.createElement("h3",{className:a.api},"Requires an API key!"))});Ue.propTypes={mdlfn:g.a.object,children:g.a.node.isRequired};var Ve=Object(j.b)(function(e){return{mdlfn:e.mdlfn}})(Ue),He=n(238),Be=n.n(He),Ge=Object(y.withTheme)()(function(e){var t=e.density,n=e.riskMetric,a=e.theme;return r.a.createElement(Ve,null,r.a.createElement(Be.a,Object.assign({density:t},n,{varColor:a.palette.secondary.main,densityColor:a.palette.primary.main})))});Ge.propTypes={density:g.a.arrayOf(g.a.shape({at_point:g.a.number.isRequired,value:g.a.number.isRequired})).isRequired,riskMetric:g.a.shape({value_at_risk:g.a.number,expected_shortfall:g.a.number}).isRequired,theme:g.a.shape({palette:g.a.shape({primary:g.a.shape({main:g.a.string.isRequired}).isRequired,secondary:g.a.shape({main:g.a.string.isRequired}).isRequired}).isRequired})};var Ke=Object(j.b)(function(e){var t=e.chartData;return{density:t.density,riskMetric:t.riskMetric}})(Ge),We=n(247),Ye=n.n(We),Je=n(248),$e=n.n(Je),ze=[],Qe=Object(y.withTheme)()(function(e){var t=e.put,n=e.call,a=e.iv,i=e.theme;return r.a.createElement(Ve,null,r.a.createElement(Ye.a,{call:n,put:t,strikes:ze,sensitivity:"Price",prices:ze,putColor:i.palette.secondary.main,callColor:i.palette.primary.main}),r.a.createElement($e.a,{impliedVolatility:a,lineColor:i.palette.primary.main}))});Qe.propTypes={put:g.a.arrayOf(g.a.shape({at_point:g.a.number.isRequired,value:g.a.number.isRequired})).isRequired,call:g.a.arrayOf(g.a.shape({at_point:g.a.number.isRequired,value:g.a.number.isRequired})).isRequired,iv:g.a.arrayOf(g.a.shape({at_point:g.a.number.isRequired,iv:g.a.number.isRequired})).isRequired,theme:g.a.shape({palette:g.a.shape({primary:g.a.shape({main:g.a.string.isRequired}).isRequired,secondary:g.a.shape({main:g.a.string.isRequired}).isRequired}).isRequired})};var Xe,Ze=Object(j.b)(function(e){var t=e.chartData.option;return{call:t.call,put:t.put,iv:t.iv}})(Qe),et=n(100),tt=n.n(et),nt=n(54),at=function(e,t,n){for(var a=[],r=n*e,i=((1+n)*e-r)/(t-1),l=0;l<t;++l)a.push(r+l*i);return a},rt=function(e,t){var n=e.modelParameters,a=e.marketParameters;return Object(M.a)({},a,{cf_parameters:n,strikes:t})},it=function(e,t){var n=e.lower,a=e.upper,r=e.name,i=e.types,l=n<t&&t<a,o=""===t,s="int"===i&&Number.isInteger(t)||"float"===i&&Number.isFinite(t);return o||l&&s?{label:r,error:!1}:l?s?void 0:{label:"Value needs to be of type ".concat(i),error:!0}:{label:"Value out of bounds",error:!0}},lt=(Xe="value",function(e){return Object.entries(e).reduce(function(e,t){var n=Object(q.a)(t,2),a=n[0],r=n[1];return Object(M.a)({},e,Object(nt.a)({},a,r[Xe]))},{})}),ot=function(e,t,n){return function(a){return n(Object(M.a)({},t,Object(nt.a)({},e,Object(M.a)({},t[e],{value:(r=a.target.value,""===r||"."===r||"."===r.substr(-1)||(r.startsWith("0.")||r.startsWith("."))&&"0"===r.substr(-1)||isNaN(parseFloat(r))?a.target.value:parseFloat(a.target.value))}))));var r}},st=function(e,t,n){return function(a){a.preventDefault(),n({modelFields:lt(e),marketFields:lt(t)})}},ct=function(e){return Object.entries(e).reduce(function(e,t){var n=Object(q.a)(t,2),a=n[0],r=n[1],i=r.lower,l=r.upper,o=r.types,s=r.value,c=void 0===s?function(e,t){return"int"===t?Math.round(e):e}(function(e,t,n){switch(e){case"asset":return 50;case"maturity":return 1;default:return.5*(t+n)}}(a,i,l),o):s;return Object(M.a)({},e,Object(nt.a)({},a,{lower:i,upper:l,value:c,types:o}))},{})},ut=Object(y.withStyles)(function(e){return{container:{flexGrow:1,paddingTop:e.spacing.unit,overflow:"scroll"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit,width:200}}})(function(e){var t=e.modelFields,n=e.marketFields,i=e.onSubmit,l=e.classes,o=Object(a.useState)(ct(t)),s=Object(q.a)(o,2),c=s[0],u=s[1],m=Object(a.useState)(ct(n)),p=Object(q.a)(m,2),d=p[0],f=p[1];return r.a.createElement("form",{onSubmit:st(c,d,i),noValidate:!0,autoComplete:"off",className:l.container},Object.entries(d).map(function(e){var t=Object(q.a)(e,2),n=t[0],a=t[1],i=a.lower,o=a.upper,s=a.value,c=a.types;return r.a.createElement(ae.a,Object.assign({},it({lower:i,upper:o,name:n,types:c},s),{value:s,className:l.textField,key:n,onChange:ot(n,d,f)}))}),Object.entries(c).map(function(e){var t=Object(q.a)(e,2),n=t[0],a=t[1],i=a.lower,o=a.upper,s=a.value,m=a.types;return r.a.createElement(ae.a,Object.assign({},it({lower:i,upper:o,name:n,types:m},s),{value:s,className:l.textField,key:n,onChange:ot(n,c,u)}))}),r.a.createElement(ie.a,{className:l.textField,variant:"contained",color:"secondary",type:"submit"},"Submit"))}),mt=n(249),pt=n.n(mt),dt=Object(j.b)(function(e){var t=e.mdlfn,n=e.models.selected,a=e.constraints,r=a.marketConstraints;return{mdlfn:t,selected:n,modelConstraints:a.modelConstraints,marketConstraints:r}},function(e){return{updateFields:function(t,n,a,r){return function(){return me({dispatch:e,realOptions:t,existingModelValue:n,existingMarketValue:a,selectedModel:r})}},updateAllGraphs:function(t,n){return function(a){var r=a.modelFields,i=a.marketFields;e({type:"SET_ALL_REFRESH"}),function(e){var t=e.dispatch,n=e.selectedModel,a=e.parameters,r=e.sensitivityType,i=e.realOptions;Promise.all([pe({dispatch:t,selectedModel:n,parameters:a,realOptions:i}),de({dispatch:t,selectedModel:n,parameters:a,realOptions:i}),fe({dispatch:t,selectedModel:n,parameters:a,sensitivityType:r,realOptions:i})])}({dispatch:e,selectedModel:n,parameters:rt({modelParameters:r,marketParameters:i},at(i.asset,10,.5)),realOptions:t,sensitivityType:"price"})}}}})(function(e){var t=e.selected,n=e.updateFields,a=e.mdlfn,i=e.modelConstraints,l=e.marketConstraints,o=e.updateAllGraphs;return r.a.createElement(Ve,null,r.a.createElement(tt.a,{promiseFn:n(a,i,l,t)},r.a.createElement(tt.a.Resolved,null,l&&i?r.a.createElement(ut,{marketFields:l,modelFields:i,onSubmit:o(a,t)}):null),r.a.createElement(tt.a.Loading,null,r.a.createElement(pt.a,null))))}),ft=n(522),ht=n(524),vt=n(525),bt=n(523),Et={height:20},yt=Object(y.createMuiTheme)(Le),Ot=Object(be.c)(Fe),gt=Object(y.withStyles)(function(e){return{app:{backgroundColor:e.palette.common.white,height:"100vh",textAlign:"center"}}})(function(e){var t=e.classes;return r.a.createElement(j.a,{store:Ot},r.a.createElement(y.MuiThemeProvider,{theme:yt},r.a.createElement(ft.a,null,r.a.createElement("div",{className:t.app},r.a.createElement(ve,null),r.a.createElement("div",{style:Et}),r.a.createElement(ht.a,null,r.a.createElement(vt.a,{path:"/inputs",component:dt}),r.a.createElement(bt.a,{from:"/",to:"/inputs",exact:!0})),r.a.createElement(vt.a,{path:"/density",component:Ke}),r.a.createElement(vt.a,{path:"/options",component:Ze}),r.a.createElement(vt.a,{path:"/:selected",component:_})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[251,1,2]]]);
//# sourceMappingURL=main.e18c9680.chunk.js.map